[{"comment":"登录页","request":{"method":"GET","url":"https://www.ppl520.com/member.php?mod=logging&action=login&referer=&infloat=yes&handlekey=login&inajax=1&ajaxtarget=fwin_content_login","headers":[{"name":"accept","value":"*/*"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"},{"name":"cache-control","value":"no-cache"},{"name":"dnt","value":"1"},{"name":"pragma","value":"no-cache"},{"name":"referer","value":"https://www.ppl520.com/"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36"},{"name":"x-requested-with","value":"XMLHttpRequest"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"formhash","re":"name=\"formhash\" value=\"(.+?)\"","from":"content"},{"name":"loginhash","re":"loginhash=(.+?)\"","from":"content"},{"name":"idhash","re":"updateseccode\\('(.+?)'","from":"content"}]}},{"comment":"验证码","request":{"method":"GET","url":"https://www.ppl520.com/misc.php?mod=seccode&action=update&idhash={{idhash|urlencode}}&{{random(0,1,16)|urlencode}}=&modid=member%3A%3Alogging","headers":[{"name":"accept","value":"*/*"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"},{"name":"cache-control","value":"no-cache"},{"name":"dnt","value":"1"},{"name":"pragma","value":"no-cache"},{"name":"referer","value":"https://www.ppl520.com/"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"yzmurl","re":"<img.*updateseccode.*src=\"(.+?)\"","from":"content"}]}},{"comment":"获取base64图片\n","request":{"method":"GET","url":"https://www.ppl520.com/{{yzmurl}}","headers":[{"name":"accept","value":"*/*"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"},{"name":"cache-control","value":"no-cache"},{"name":"dnt","value":"1"},{"name":"pragma","value":"no-cache"},{"name":"referer","value":"https://www.ppl520.com/"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"base64IMG","re":".+","from":"content"}]}},{"comment":"OCR识别","request":{"method":"POST","url":"api://util/dddd/ocr","headers":[{"name":"Content-Type","value":"application/json"}],"cookies":[],"data":"{\"img\":\"{{base64IMG}}\",\"imgurl\":\"\",\"old\":\"False\",\"extra_onnx_name\":\"\"}"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"OK\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"seccodeverify","re":"\"Result\": \"(.*)\"","from":"content"}]}},{"comment":"登录","request":{"method":"POST","url":"https://www.ppl520.com/member.php?mod=logging&action=login&loginsubmit=yes&handlekey=login&loginhash={{loginhash|urlencode}}&inajax=1","headers":[{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"},{"name":"cache-control","value":"no-cache"},{"name":"content-type","value":"application/x-www-form-urlencoded"},{"name":"dnt","value":"1"},{"name":"origin","value":"https://www.ppl520.com"},{"name":"pragma","value":"no-cache"},{"name":"referer","value":"https://www.ppl520.com/"},{"name":"upgrade-insecure-requests","value":"1"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36"}],"cookies":[],"data":"formhash={{formhash|urlencode}}&referer=https%3A%2F%2Fwww.ppl520.com%2F&loginfield=username&username={{username|urlencode}}&password={{password|urlencode}}&questionid=0&answer=&seccodehash={{idhash|urlencode}}&seccodemodid=member%3A%3Alogging&seccodeverify={{seccodeverify|urlencode}}&cookietime=2592000","mimeType":"application/x-www-form-urlencoded"},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[{"re":"失败","from":"content"},{"re":"错误","from":"content"},{"re":"重试","from":"content"},{"re":"异常","from":"content"}],"extract_variables":[]}},{"comment":"获取formhash","request":{"method":"GET","url":"https://www.ppl520.com/plugin.php?id=k_misign%3Asign","headers":[{"name":"accept","value":"*/*"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"},{"name":"cache-control","value":"no-cache"},{"name":"dnt","value":"1"},{"name":"pragma","value":"no-cache"},{"name":"referer","value":"https://www.ppl520.com/"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36"},{"name":"x-requested-with","value":"XMLHttpRequest"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"formhash","re":"formhash=(.*?)\">","from":"content"}]}},{"comment":"签到","request":{"method":"GET","url":"https://www.ppl520.com/plugin.php?id=k_misign%3Asign&operation=qiandao&format=button&formhash={{formhash|urlencode}}&inajax=1&ajaxtarget=midaben_sign","headers":[{"name":"accept","value":"*/*"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"},{"name":"cache-control","value":"no-cache"},{"name":"dnt","value":"1"},{"name":"pragma","value":"no-cache"},{"name":"referer","value":"https://www.ppl520.com/"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36"},{"name":"x-requested-with","value":"XMLHttpRequest"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"msg","re":"<!\\[CDATA\\[(.+?)\\]\\]>","from":"content"}]}},{"comment":"签到页","request":{"method":"GET","url":"https://www.ppl520.com/plugin.php?id=k_misign%3Asign","headers":[{"name":"accept","value":"*/*"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"},{"name":"cache-control","value":"no-cache"},{"name":"dnt","value":"1"},{"name":"pragma","value":"no-cache"},{"name":"referer","value":"https://www.ppl520.com/"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36"},{"name":"x-requested-with","value":"XMLHttpRequest"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"lxdays","re":"id=\"lxdays\" value=\"(.+)\"","from":"content"},{"name":"lxlevel","re":"id=\"lxlevel\" value=\"(.+)\"","from":"content"},{"name":"lxreward","re":"id=\"lxreward\" value=\"(.+)\"","from":"content"},{"name":"lxtdays","re":"id=\"lxtdays\" value=\"(.+)\"","from":"content"}]}},{"comment":"积分页","request":{"method":"GET","url":"https://www.ppl520.com/home.php?mod=spacecp&ac=credit","headers":[{"name":"accept","value":"*/*"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"},{"name":"cache-control","value":"no-cache"},{"name":"dnt","value":"1"},{"name":"pragma","value":"no-cache"},{"name":"referer","value":"https://www.ppl520.com/"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36"},{"name":"x-requested-with","value":"XMLHttpRequest"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"jb","re":"金币: </em>(\\d+)","from":"content"},{"name":"ww","re":"威望: </em>(\\d+)","from":"content"},{"name":"gx","re":"贡献: </em>(\\d+)","from":"content"},{"name":"jf","re":"积分: </em>(\\d+)","from":"content"},{"name":"nickName","re":"class=\"username\">(.+?)<","from":"content"},{"name":"g_upmine","re":"用户组: <a .*?>(.+?)<","from":"content"}]}},{"comment":"Unicode转换","request":{"method":"POST","url":"api://util/unicode","headers":[],"cookies":[],"data":"content=用户：【{{nickName}}】，用户组：【{{g_upmine}}】\\r\\n签到信息：【{{msg}}】\\r\\n连续签到：【{{lxdays}}】，积分奖励：【{{lxreward}}】，总天数：【{{lxtdays}}天】\\r\\n金币：【{{jb}}】，威望：【{{ww}}】，贡献：【{{gx}}】，积分：【{{jf}}】"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"__log__","re":"\"转换后\": \"(.*)\"","from":"content"}]}}]